<bench-config>
    <master
            bindAddress="${127.0.0.1:master.address}"
            port="${2103:master.port}"/>

    <!-- dynamic attribute allows to accept slaves at runtime.
         New slaves will reach the current running stage skipping
         skippable stages and executing the other ones.
         If dynamic is false, it'll ignore slaves trying to join at runtime -->
    <benchmark
            initSize="1"
            maxSize="1"
            increment="1">

        <DestroyWrapper
                id="a"
                runOnAllSlaves="true"
                skippable="true"/>
        <StartCluster
                id="b"
                staggerSlaveStartup="true"
                delayAfterFirstSlaveStarts="5000"
                delayBetweenStartingSlaves = "500"/>
        <ClusterValidation
                id="c"
                partialReplication="false"/>
        <SyntheticWarmup
                id="d"
                keyGeneratorClass="org.radargun.stressors.ContentionStringKeyGenerator"
                numberOfAttributes="100"
                sizeOfAnAttribute="10"
                numOfThreads="1"/>
        <!--
           This will average to 10000 requests per thread, although a work-stealing pattern is used so some threads may
           do more work than others.
         -->
        <SyntheticBenchmark
                id="e"
                sizeOfAnAttribute="10"
                keyGeneratorClass="org.radargun.stressors.ContentionStringKeyGenerator"
                numberOfAttributes="100"
                numOfThreads="1"
                updateXactWrites="1"
                updateXactReads="9"
                readOnlyXactSize="10"
                writePercentage="20"
                duration="30000"/>

    </benchmark>


    <products>
        <infinispan4>
            <config name="provaPC.xml"/>
        </infinispan4>
    </products>
    <reports>
        <!--report enabled="false" name="Reports"/-->
    </reports>

</bench-config>

